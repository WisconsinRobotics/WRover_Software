<?xml version="1.0"?>
<!DOCTYPE launch SYSTEM "https://gist.githubusercontent.com/nalt/dfa2abc9d2e3ae4feb82ca5608090387/raw/roslaunch.dtd">
<launch>

  <!-- 
    export WROVER_HW=MOCK
  export WROVER_LOCAL=true

   -->
 
  
  <include file="$(find wr_entry_point)/launch/comp/comp_init.launch" if="$(eval env('WROVER_LOCAL') == 'true')"/>
  <include file="$(find wr_entry_point)/launch/comp/comp_falcon.launch"  unless="$(eval env('WROVER_LOCAL') == 'true')"/>

  <include file="$(find wr_control_drive_ds)/launch/std.launch"/>

  <node name="imu" pkg="wrevolution" type="Pigeon2" if="$(eval env('WROVER_LOCAL') == 'true')" />

  <arg name="mux_name" default="nav_mux" />
  <arg name="long_range_output" default="/long_range_nav" />
  <arg name="short_range_output" default="/short_range_nav" />


  <include file="$(find wr_logic_ai)/launch/wrplidar.launch"/>
  <node name="fake_data" pkg="wr_logic_longrange" type="inputFakeData.py" output="screen"/>

  <!-- <node pkg="wr_logic_ai" name="wait_for_user_input" type="wait_for_user_input.py" output="screen" /> -->

  <!-- <include file="$(find wr_logic_ai)/launch/mux_select.launch"> -->
    <!-- <arg name="mux_name" default="nav_mux" /> -->
    <!-- <arg name="long_range_output" value="$(arg long_range_output)" /> -->
    <!-- <arg name="short_range_output" value="$(arg short_range_output)" /> -->
  <!-- </include> -->

  <include file="$(find wr_logic_longrange)/launch/long_range.launch">
    <param name="long_range_output" value="$(arg long_range_output)" />
  </include>

</launch>