<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro"  name="robot">
    <!-- <xacro:include filename="inertial.xacro" />-->
    <xacro:include filename="gazebo.xacro" />

    <!-- Predefine some colors, can be later used to color code robot-->
    <material name="white">
        <color rgba="1 1 1 1"/>
    </material>

    <material name="orange">
        <color rgba="1 0.3 0.1 1"/>
    </material>

    <material name="blue">
        <color rgba="0.2 0.2 1 1"/>
    </material>


    <!-- This first link called "world" is empty -->
    <link name="world"></link>

    <!-- A simple fixed joint from our empty world link, to our base. -->
    <!-- The base origin is offset from the world origin. -->
    <joint name="base_joint" type="fixed">
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <parent link="world"/>
        <child link="base_link"/>        
    </joint>

    
    <!--Hollow Steel Base Frame-->
    <link name='base_link'>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.61 0.61 0.02" />
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.61 0.61 0.02" />
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <!--Electrical Box-->
    <link name='elecBox'>
        <visual>
            <origin xyz="0 -0.15 0.09" rpy="0 0 0"/>
            <geometry>
                <box size="0.61 0.25 0.15" />
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 -0.15 0.09" rpy="0 0 0"/>
            <geometry>
                <box size="0.61 0.25 0.15" />
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <joint name="elect_to_base_link" type="fixed">
        <parent link="base_link"/>
        <child link="elecBox"/>
    </joint>

    <!--Camera Pole-->
    <link name='camPole'>
        <visual>
            <origin xyz="0 0 0.3" rpy="0 0 0"/>
            <geometry>
                <cylinder radius="0.01" length="0.56"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0 0.3" rpy="0 0 0"/>
            <geometry>
                <cylinder radius="0.01" length="0.56"/>
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <joint name="pole_to_base_link" type="fixed">
        <parent link="base_link"/>
        <child link="camPole"/>
    </joint>

    <!--Camera On Pole Mount-->
    <link name='topCameraMount'>
        <visual>
            <origin xyz="0 0 0.03" rpy="0 0 0"/>
            <geometry>
                <box size="0.01 0.01 0.01" />
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0 0.05" rpy="0 0 0"/>
            <geometry>
                <box size="0.01 0.01 0.01" />
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>

    </link>
    <joint name="camera_vertical_link" type="revolute">
        <parent link="camPole"/>
        <child link="topCameraMount"/>
        <limit effort="10" velocity="1.0" lower="-0.6" upper="0.6" />
        <origin rpy = "0 0 0" xyz="0 0 0.58"/>
    </joint>

    <!--Camera On Pole-->
    <link name='topCamera'>
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.05 0.05 0.05" />
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <box size="0.05 0.05 0.05" />
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <joint name="cam_horizontal_link" type="revolute">
        <parent link="topCameraMount"/>
        <child link="topCamera"/>
        <limit effort="10" velocity="1.0" lower="-1.57" upper="1.57" />
        <origin rpy = "0 1.57 0" xyz="0 0 0"/>
    </joint>

    <!--lidar-->
    <link name="laser_frame">
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <cylinder radius="0.05" length="0.04"/>
            </geometry>
            <material name="orange"/>
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 0 0"/>
            <geometry>
                <cylinder radius="0.05" length="0.04"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <joint name="lidar_base_link" type="fixed">
        <parent link="base_link"/>
        <child link="laser_frame"/>
        <origin rpy = "0 0 0" xyz="0 0.25 0.02"/>
    </joint>


    <!--Left Rocker Bogiee-->
    <link name='lb'>
        <visual>
            <origin xyz="0.31 -0.13 -0.08" rpy="-0.9 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.3"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0.31 -0.13 -0.08" rpy="-0.9 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.3"/>
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='lr'>
        <visual>
            <origin xyz="0.31 0.235 -0.18" rpy="0.8 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.52"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0.31 0.235 -0.18" rpy="0.8 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.52"/>
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="lr_to_lb" type="fixed">
        <parent link="lr"/>
        <child link="lb"/>
    </joint>

    <joint name="lr_to_base_link" type="revolute">
        <parent link="base_link"/>
        <child link="lr"/>
        <limit effort="10" velocity="1.0" lower="-0.6" upper="0.6" />
    </joint>

    <!--Left Bogiee-->
    <link name='lbb'>
        <visual>
            <origin xyz="0 -0.13 -0.1" rpy="-1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 -0.13 -0.1" rpy="-1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='lbf'>
        <visual>
            <origin xyz="0 0.12 -0.1" rpy="1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0.12 -0.1" rpy="1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
        </collision>

        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="lbb_to_lbf" type="fixed">
        <parent link="lbb"/>
        <child link="lbf"/>
    </joint>

    <joint name="lbb_to_lb" type="revolute">
        <parent link="lb"/>
        <child link="lbb"/>
        <limit effort="10" velocity="1.0" lower="-0.4" upper="0.4" />
        <origin rpy = "0 0 0" xyz="0.31 -0.25 -0.18"/>
    </joint>
    


    <!--Left Rocker Bogiee Wheels-->
    <link name='lw1'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='lw2'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='lw3'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="lw1_to_lrb" type="continuous">
        <parent link="lr"/>
        <child link="lw1"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="0.4 0.43 -0.36"/>
    </joint>

    <joint name="lw2_to_lrb" type="continuous">
        <parent link="lbf"/>
        <child link="lw2"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="0.09 0.25 -0.16"/>
    </joint>

    <joint name="lw3_to_lrb" type="continuous">
        <parent link="lbb"/>
        <child link="lw3"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="0.09 -0.25 -0.16"/>
    </joint>

    <!--Right Rocker Bogiee-->
    <link name='rb'>
        <visual>
            <origin xyz="-0.31 -0.13 -0.08" rpy="-0.9 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.3"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="-0.31 -0.13 -0.08" rpy="-0.9 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.3"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='rr'>
        <visual>
            <origin xyz="-0.31 0.235 -0.18" rpy="0.8 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.52"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="-0.31 0.235 -0.18" rpy="0.8 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.52"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="rr_to_rb" type="fixed">
        <parent link="rr"/>
        <child link="rb"/>
    </joint>

    <joint name="rrb_to_base_link" type="revolute">
        <parent link="base_link"/>
        <child link="rr"/>
        <limit effort="10" velocity="1.0" lower="-0.8" upper="0.8" />
    </joint>

    <!--Right Bogiee-->
    <link name='rbb'>
        <visual>
            <origin xyz="0 -0.13 -0.1" rpy="-1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 -0.13 -0.1" rpy="-1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='rbf'>
        <visual>
            <origin xyz="0 0.12 -0.1" rpy="1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
            <material name="orange" />
        </visual>

        <collision>
            <origin xyz="0 0.12 -0.1" rpy="1 0 0"/>
            <geometry>
                <cylinder radius="0.015" length="0.27"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="rbb_to_rbf" type="fixed">
        <parent link="rbb"/>
        <child link="rbf"/>
    </joint>

    <joint name="rbb_to_rb" type="revolute">
        <parent link="rb"/>
        <child link="rbb"/>
        <limit effort="10" velocity="1.0" lower="-0.4" upper="0.4" />
        <origin rpy = "0 0 0" xyz="-0.31 -0.25 -0.18"/>
    </joint>
    


    <!--Right Rocker Bogiee Wheels-->
    <link name='rw1'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='rw2'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>
    <link name='rw3'>
        <visual>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
            <material name="orange" />
        </visual>
        <collision>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <geometry>
                <cylinder radius="0.115" length="0.14"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1" />
            <inertia ixx="1" ixy="1" ixz="1"
                    iyy="1" iyz="1"
                    izz="1" />
        </inertial>
    </link>

    <joint name="rw1_to_rrb" type="continuous">
        <parent link="rr"/>
        <child link="rw1"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="-0.4 0.43 -0.36"/>
    </joint>

    <joint name="rw2_to_rrb" type="continuous">
        <parent link="rbf"/>
        <child link="rw2"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="-0.09 0.25 -0.16"/>
    </joint>

    <joint name="rw3_to_rrb" type="continuous">
        <parent link="rbb"/>
        <child link="rw3"/>
        <axiz rpy = "0 0 0" xyz="0 0 0"/>
        <origin rpy = "0 0 0" xyz="-0.09 -0.25 -0.16"/>
    </joint>

  <gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotNamespace>/robot</robotNamespace>
    </plugin>
  </gazebo>

</robot>

